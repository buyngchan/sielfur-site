<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>퍼슈트 커미션 신청 | jjubstudio</title>
  <meta name="description" content="심플하고 깔끔한 퍼슈트(Fullsuit) 커미션 신청 페이지 - 참조 이미지 업로드, 예산, 사이즈, 기한 등 입력." />
  <style>
    /* --- Reset --- */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{font-family:Inter, "Noto Sans KR", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:#F7F9FB; color:#0F1724; -webkit-font-smoothing:antialiased}

    /* --- Layout --- */
    .wrap{max-width:920px;margin:40px auto;padding:28px;background:#fff;border-radius:16px;box-shadow:0 10px 30px rgba(12,20,30,0.06);}
    header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
    .brand{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,#7C5CFF,#00C2FF);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:18px}
    h1{font-size:20px;margin-bottom:2px}
    p.lead{color:#516177;font-size:14px}

    /* --- Form --- */
    form{margin-top:18px;display:grid;grid-template-columns:1fr 320px;gap:20px}
    .card{background:#fbffd5;border-radius:12px;padding:18px;border:1px solid #EEF3F7}
    .main{min-height:360px}
    label{display:block;font-size:13px;color:#16202A;margin-bottom:8px}
    .input, .textarea, .select{width:100%;padding:12px 14px;border-radius:10px;border:1px solid #E6EDF2;background:#fff;font-size:14px}
    .textarea{min-height:120px;resize:vertical}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .field{margin-bottom:14px}

    /* file upload */
    .uploader{display:flex;flex-direction:column;gap:8px}
    .upload-btn{display:inline-block;padding:10px 12px;border-radius:10px;border:1px dashed #DDE8EF;background:#fff;cursor:pointer;text-align:center}
    .thumbs{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
    .thumb{width:72px;height:72px;border-radius:8px;overflow:hidden;background:#F0F5F8;display:flex;align-items:center;justify-content:center;font-size:12px;color:#6B7B86}

    /* sidebar */
    .aside{position:relative}
    .summary{display:flex;flex-direction:column;gap:12px}
    .meta{background:linear-gradient(180deg,#FBFDFF,#F7FBFF);border-radius:10px;padding:12px;border:1px solid #ECEFF4}
    .meta h3{font-size:13px;margin-bottom:6px}
    .meta p{font-size:13px;color:#4C5B66}

    .price{font-size:24px;font-weight:700;color:#0F1724}
    .muted{color:#7D8A95;font-size:13px}

    /* submit */
    .actions{display:flex;gap:12px;align-items:center;margin-top:10px}
    .btn{padding:12px 16px;border-radius:12px;border:0;cursor:pointer;font-weight:600}
    .btn-primary{background:#7C5CFF;color:#fff;box-shadow:0 6px 20px rgba(124,92,255,0.18)}
    .btn-ghost{background:transparent;border:1px solid #E6EDF2;color:#16202A}

    /* footer small */
    .hint{font-size:12px;color:#83939E}

    /* responsive */
    @media(max-width:900px){form{grid-template-columns:1fr} .aside{order:2} .main{order:1}}

    /* success modal */
    .modal{position:fixed;inset:0;background:rgba(6,12,20,0.4);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:all .18s}
    .modal.open{opacity:1;pointer-events:auto}
    .modal-card{background:#000000;padding:22px;border-radius:12px;min-width:320px;box-shadow:0 20px 40px rgba(2,6,23,0.16)}
  </style>
</head>
<body>
  <div class="wrap" role="main">
    <header>
      <div class="brand">생강퍼</div>
      <div>
         <a href="login.html">로그인</a>
        <h1>퍼슈트 커미션 신청</h1>
        <p class="lead">커미션 신청서를 작성해주세요. 가능한 상세히 적어주실수록 견적/진행이 원활해집니다.</p>
      </div>
    </header>

    <form id="commissionForm" class="card" onsubmit="return false;">
      <div class="main">
        <div class="field">
          <label for="name">신청자 이름</label>
          <input id="name" name="name" class="input" type="text" placeholder="홍길동" required />
        </div>

        <div class="row">
          <div class="field">
            <label for="contact">연락처 (이메일 또는 전화)</label>
            <input id="contact" name="contact" class="input" type="text" placeholder="email@example.com / 010-1234-5678" required />
          </div>
          <div class="field">
            <label for="budget">예산 (원)</label>
            <input id="budget" name="budget" class="input" type="number" min="0" placeholder="예: 500000" />
          </div>
        </div>

        <div class="field">
          <label for="species">캐릭터(종)</label>
          <input id="species" name="species" class="input" type="text" placeholder="예: 늑대, 고양이 등" />
        </div>

        <div class="field">
          <label for="size">사이즈 / 신체정보</label>
          <input id="size" name="size" class="input" type="text" placeholder="예: 키 170cm / 가슴 92cm / 발사이즈 270" />
        </div>

        <div class="field">
          <label for="deadline">완료 희망일</label>
          <input id="deadline" name="deadline" class="input" type="date" />
        </div>

        <div class="field">
          <label for="refs">참조 이미지 (최대 6장)</label>
          <div class="uploader">
            <label class="upload-btn" for="refsInput">이미지 업로드</label>
            <input id="refsInput" type="file" accept="image/*" multiple style="display:none" />
            <div id="thumbs" class="thumbs" aria-live="polite"></div>
          </div>
        </div>

        <div class="field">
          <label for="notes">추가 요청사항 / 상세 설명</label>
          <textarea id="notes" name="notes" class="textarea" placeholder="원하시는 재질, 색상, 특수요청(LED, 방음 등) 등을 적어주세요."></textarea>
          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">
            <div class="muted">최대 1000자</div>
            <div id="charCount" class="muted">0 / 1000</div>
          </div>
        </div>

        <div style="margin-top:8px;display:flex;align-items:center;gap:8px">
          <input id="agree" type="checkbox" required />
          <label for="agree" class="muted">제작 규정 및 환불 정책에 동의합니다.</label>
        </div>

        <div class="actions">
          <button id="submitBtn" class="btn btn-primary" type="button">신청서 제출</button>
          <button id="draftBtn" class="btn btn-ghost" type="button">임시저장(브라우저)</button>
          <div class="hint">제출 후 담당자가 연락드립니다. (업체가 직접 운영)</div>
        </div>
      </div>

      <aside class="aside">
        <div class="summary">
          <div class="meta">
            <h3>견적 가이드</h3>
            <p class="muted">예산을 입력하지 않으면 기본 상담 후 별도 견적 안내드립니다.</p>
            <div style="margin-top:10px">
              <div class="muted">평균 제작비</div>
              <div class="price">₩ 500,000 ~ 1,200,000</div>
            </div>
          </div>

          <div class="meta">
            <h3>제작 기간</h3>
            <p class="muted">기본 4~8주 (디자인·추가 옵션에 따라 변동)</p>
          </div>

          <div class="meta">
            <h3>문의</h3>
            <p class="muted">카카오톡: @jjubstudio / Email: jjub@example.com</p>
          </div>
        </div>
      </aside>
    </form>
  </div>

  <div id="modal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-card">
      <h3 id="modalTitle">제출 완료</h3>
      <p id="modalMsg" style="margin-top:8px;color:#44525A">신청이 정상적으로 접수되었습니다. 담당자가 입력하신 연락처로 곧 연락드릴게요.</p>
      <div style="display:flex;justify-content:flex-end;margin-top:16px;gap:8px">
        <button onclick="closeModal()" class="btn btn-ghost">닫기</button>
      </div>
    </div>
  </div>

  <script>
    // 간단한 프론트엔드 기능: 미리보기, 글자수, 임시저장
    const refsInput = document.getElementById('refsInput');
    const thumbs = document.getElementById('thumbs');
    const notes = document.getElementById('notes');
    const charCount = document.getElementById('charCount');
    const submitBtn = document.getElementById('submitBtn');
    const draftBtn = document.getElementById('draftBtn');
    const modal = document.getElementById('modal');

    // 이미지 미리보기
    refsInput.addEventListener('change', (e)=>{
      thumbs.innerHTML='';
      const files = Array.from(e.target.files).slice(0,6);
      files.forEach(file=>{
        const reader = new FileReader();
        const box = document.createElement('div'); box.className='thumb';
        reader.onload = (ev)=>{
          const img = document.createElement('img');
          img.src = ev.target.result; img.style.width='100%'; img.style.height='100%'; img.style.objectFit='cover';
          box.innerHTML=''; box.appendChild(img);
        }
        reader.readAsDataURL(file);
        thumbs.appendChild(box);
      })
    })

    // 글자수 카운트
    notes.addEventListener('input', ()=>{
      const len = notes.value.length;
      if(len>1000) notes.value = notes.value.slice(0,1000);
      charCount.textContent = `${notes.value.length} / 1000`;
    })

    // 임시저장: localStorage
    draftBtn.addEventListener('click', ()=>{
      const data = {
        name: document.getElementById('name').value,
        contact: document.getElementById('contact').value,
        budget: document.getElementById('budget').value,
        species: document.getElementById('species').value,
        size: document.getElementById('size').value,
        deadline: document.getElementById('deadline').value,
        notes: document.getElementById('notes').value
      }
      localStorage.setItem('fursuitDraft', JSON.stringify(data));
      alert('임시저장되었습니다. (브라우저 로컬 저장소)')
    })

    // 로드 시 임시저장 불러오기
    window.addEventListener('load', ()=>{
      const raw = localStorage.getItem('fursuitDraft');
      if(raw){
        try{
          const d = JSON.parse(raw);
          document.getElementById('name').value = d.name || '';
          document.getElementById('contact').value = d.contact || '';
          document.getElementById('budget').value = d.budget || '';
          document.getElementById('species').value = d.species || '';
          document.getElementById('size').value = d.size || '';
          document.getElementById('deadline').value = d.deadline || '';
          document.getElementById('notes').value = d.notes || '';
          charCount.textContent = `${document.getElementById('notes').value.length} / 1000`;
        }catch(e){console.warn(e)}
      }
    })

    // 제출 (예시: 실제 서버 연결은 없음)
    submitBtn.addEventListener('click', ()=>{
      const form = document.getElementById('commissionForm');
      // 간단 유효성 체크
      if(!document.getElementById('name').value.trim()){alert('이름을 입력해주세요.'); return}
      if(!document.getElementById('contact').value.trim()){alert('연락처를 입력해주세요.'); return}
      if(!document.getElementById('agree').checked){alert('제작 규정에 동의해주세요.'); return}

      // 여기서 실제로는 fetch로 서버에 전송합니다.
      openModal('제출 완료','신청이 정상적으로 접수되었습니다. 담당자가 입력하신 연락처로 곧 연락드릴게요.');
      // 제출 후 임시저장 삭제
      localStorage.removeItem('fursuitDraft');
    })

    function openModal(title,msg){
      document.getElementById('modalTitle').textContent = title;
      document.getElementById('modalMsg').textContent = msg;
      modal.classList.add('open');
    }
    function closeModal(){ modal.classList.remove('open'); }
  </script>
</body>
</html>
